<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Happy Birthday!</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <audio autoplay>
    <source src = "assets/birthday-music.mp3">
  </audio>
  <div class="card">
    <h1>ğŸ‚ ChÃºc má»«ng sinh nháº­t bá»‘ máº¹! ğŸ‰</h1>
    <button onclick="openMessage1()">ChÃºc má»«ng sinh nháº­t máº¹</button>
    <button onclick="openMessage2()">ChÃºc má»«ng sinh nháº­t bá»‘</button>
    <div id="hidden-message-1" class="hidden">
      <p>ğŸ NhÃ¢n dá»‹p sinh nháº­t máº¹, con chÃºc máº¹ cÃ³ sá»©c khá»e dá»“i dÃ o, tiá»n vÃ o nhÆ° nÆ°á»›c vÃ  mua Ä‘Æ°á»£c nhiá»u hÃ ng ship xá»‹n ğŸ</p>
    </div>    
    <div id="hidden-message-2" class="hidden">
      <p>ğŸ NhÃ¢n dá»‹p sinh nháº­t bá»‘, con chÃºc bá»‘ cÃ³ sá»©c khá»e dá»“i dÃ o, tiá»n vÃ o nhÆ° nÆ°á»›c vÃ  Äƒn uá»‘ng Ä‘á»§ bá»¯ağŸ</p>
    </div>
  </div>
  <hr>
  <div class="card">
    <h2>ğŸ² TrÃ² chÆ¡i giáº¿t thá»i gian</h2>
    <p>Má»—i láº§n báº¥m nÃºt cÃ³ tá»‰ lá»‡ 22% trÃºng giáº£i</p>
    <p>Äiá»ƒm cao dá»±a trÃªn sá»‘ láº§n báº¥m cho Ä‘áº¿n khi trÃºng giáº£i</p>
    <button onclick="playGame()">áº¤n vÃ o Ä‘Ã¢y</button>
    <p id="game-result"></p>
    <p>Sá»‘ láº§n báº¥m hiá»‡n táº¡i: <span id="attempts">0</span></p>
    <p>Äiá»ƒm cao (sá»‘ láº§n báº¥m Ã­t nháº¥t): <span id="best-score">-</span></p>
    <p>Äiá»ƒm tháº¥p (sá»‘ láº§n báº¥m nhiá»u nháº¥t): <span id="worst-score">-</span></p>
  </div>


  <script>
    function openMessage1() {
      document.getElementById('hidden-message-1').classList.toggle('hidden');
    }    
    function openMessage2() {
      document.getElementById('hidden-message-2').classList.toggle('hidden');
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script>
    window.onload = () => {
      confetti();
    };
  </script>
  <script>
  let attempts = 0;
  let bestScore = localStorage.getItem('bestScore') || null;
  let worstScore = localStorage.getItem('worstScore') || null;

  if (bestScore !== null) {
    document.getElementById('best-score').textContent = bestScore;
  }

  if (worstScore !== null) {
    document.getElementById('worst-score').textContent = worstScore;
  }

  function playGame() {
    attempts++;
    document.getElementById('attempts').textContent = attempts;

    if (Math.random() < 0.22) {
      const resultText = `ğŸ‰ TRÃšNG sau ${attempts} láº§n báº¥m! ğŸ‰`;
      document.getElementById('game-result').textContent = resultText;

      // Update best score
      if (bestScore === null || attempts < bestScore) {
        bestScore = attempts;
        localStorage.setItem('bestScore', bestScore);
        document.getElementById('best-score').textContent = bestScore;
      }

      // Update worst score
      if (worstScore === null || attempts > worstScore) {
        worstScore = attempts;
        localStorage.setItem('worstScore', worstScore);
        document.getElementById('worst-score').textContent = worstScore;
      }

      attempts = 0; // Reset after jackpot
    } else {
      document.getElementById('game-result').textContent = ` `;
    }
  }
</script>



</body>
</html>
